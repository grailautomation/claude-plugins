{
    "title": "Karabiner Rule Templates",
    "description": "Common modification patterns for quick reference",
    "templates": {
        "caps_lock_to_escape": {
            "description": "Change caps_lock to escape",
            "manipulators": [{
                "type": "basic",
                "from": { "key_code": "caps_lock", "modifiers": { "optional": ["any"] } },
                "to": [{ "key_code": "escape" }]
            }]
        },
        "caps_lock_dual_function": {
            "description": "Caps Lock: Control when held, Escape when tapped",
            "manipulators": [{
                "type": "basic",
                "from": { "key_code": "caps_lock", "modifiers": { "optional": ["any"] } },
                "to": [{ "key_code": "left_control" }],
                "to_if_alone": [{ "key_code": "escape" }]
            }]
        },
        "vim_arrows_right_option": {
            "description": "HJKL as arrow keys with Right Option",
            "manipulators": [
                {
                    "type": "basic",
                    "from": { "key_code": "h", "modifiers": { "mandatory": ["right_option"], "optional": ["any"] } },
                    "to": [{ "key_code": "left_arrow" }]
                },
                {
                    "type": "basic",
                    "from": { "key_code": "j", "modifiers": { "mandatory": ["right_option"], "optional": ["any"] } },
                    "to": [{ "key_code": "down_arrow" }]
                },
                {
                    "type": "basic",
                    "from": { "key_code": "k", "modifiers": { "mandatory": ["right_option"], "optional": ["any"] } },
                    "to": [{ "key_code": "up_arrow" }]
                },
                {
                    "type": "basic",
                    "from": { "key_code": "l", "modifiers": { "mandatory": ["right_option"], "optional": ["any"] } },
                    "to": [{ "key_code": "right_arrow" }]
                }
            ]
        },
        "double_tap_quit": {
            "description": "Quit app by pressing Cmd+Q twice",
            "manipulators": [
                {
                    "type": "basic",
                    "conditions": [{ "type": "variable_if", "name": "command-q", "value": 1 }],
                    "from": { "key_code": "q", "modifiers": { "mandatory": ["command"] } },
                    "to": [{ "key_code": "q", "modifiers": "left_command" }]
                },
                {
                    "type": "basic",
                    "from": { "key_code": "q", "modifiers": { "mandatory": ["command"] } },
                    "to": [{ "set_variable": { "name": "command-q", "value": 1 } }],
                    "to_delayed_action": {
                        "to_if_invoked": [{ "set_variable": { "name": "command-q", "value": 0 } }],
                        "to_if_canceled": [{ "set_variable": { "name": "command-q", "value": 0 } }]
                    }
                }
            ]
        }
    }
}
